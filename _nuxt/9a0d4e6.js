(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{398:function(t,e,n){"use strict";(function(t){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var n=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function t(data,e,n){var o,r,l=window,c="application/octet-stream",d=n||c,f=data,h=!e&&!n&&f,m=document.createElement("a"),y=function(a){return String(a)},x=l.Blob||l.MozBlob||l.WebKitBlob||y,v=e||"download";if(x=x.call?x.bind(l):Blob,"true"===String(this)&&(d=(f=[f,d])[0],f=f[1]),h&&h.length<2048&&(v=h.split("/").pop().split("?")[0],m.href=h,-1!==m.href.indexOf(h))){var w=new XMLHttpRequest;return w.open("GET",h,!0),w.responseType="blob",w.onload=function(e){t(e.target.response,v,c)},setTimeout((function(){w.send()}),0),w}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(f)){if(!(f.length>2096103.424&&x!==y))return navigator.msSaveBlob?navigator.msSaveBlob(S(f),v):k(f);d=(f=S(f)).type||c}else if(/([\x80-\xff])/.test(f)){for(var i=0,I=new Uint8Array(f.length),L=I.length;i<L;++i)I[i]=f.charCodeAt(i);f=new x([I],{type:d})}function S(t){for(var e=t.split(/[:;,]/),n=e[1],o=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),r=o.length,i=0,l=new Uint8Array(r);i<r;++i)l[i]=o.charCodeAt(i);return new x([l],{type:n})}function k(t,e){if("download"in m)return m.href=t,m.setAttribute("download",v),m.className="download-js-link",m.innerHTML="downloading...",m.style.display="none",document.body.appendChild(m),setTimeout((function(){m.click(),document.body.removeChild(m),!0===e&&setTimeout((function(){l.URL.revokeObjectURL(m.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,c)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,c)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=f instanceof x?f:new x([f],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(o,v);if(l.URL)k(l.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===y)try{return k("data:"+d+";base64,"+l.btoa(o))}catch(t){return k("data:"+d+","+encodeURIComponent(o))}(r=new FileReader).onload=function(t){k(this.result)},r.readAsDataURL(o)}return!0}}));var o=function(template,style,script,t,e,n,o,r,l,c){"boolean"!=typeof o&&(l=r,r=o,o=!1);var d,f="function"==typeof script?script.options:script;if(template&&template.render&&(f.render=template.render,f.staticRenderFns=template.staticRenderFns,f._compiled=!0,e&&(f.functional=!0)),t&&(f._scopeId=t),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),style&&style.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},f._ssrRegister=d):style&&(d=o?function(){style.call(this,c(this.$root.$options.shadowRoot))}:function(t){style.call(this,r(t))}),d)if(f.functional){var h=f.render;f.render=function(t,e){return d.call(e),h(t,e)}}else{var m=f.beforeCreate;f.beforeCreate=m?[].concat(m,d):[d]}return script};const r={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName:()=>"export_"+(new Date).getTime(),downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"==typeof this.beforeGenerate&&await this.beforeGenerate();let data=this.data;if("function"!=typeof this.fetch&&data||(data=await this.fetch()),!data||!data.length)return;let t=this.getProcessedJson(data,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(t),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(t),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(t),this.name,"application/vnd.ms-excel")},export:async function(data,t,e){let o=this.base64ToBlob(data,e);"function"==typeof this.beforeFinish&&await this.beforeFinish(),n(o,t,e)},jsonToXLS(data){let t="<thead>";const e=Object.keys(data[0]).length;let n=this;const header=this.header||this.$attrs.title;header&&(t+=this.parseExtraData(header,'<tr><th colspan="'+e+'">${data}</th></tr>')),t+="<tr>";for(let e in data[0])t+="<th>"+e+"</th>";return t+="</tr>",t+="</thead>",t+="<tbody>",data.map((function(e,o){t+="<tr>";for(let o in e)t+="<td>"+n.preprocessLongNum(n.valueReformattedForMultilines(e[o]))+"</td>";t+="</tr>"})),t+="</tbody>",null!=this.footer&&(t+="<tfoot>",t+=this.parseExtraData(this.footer,'<tr><td colspan="'+e+'">${data}</td></tr>'),t+="</tfoot>"),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>'.replace("${table}",t).replace("${worksheet}",this.worksheet)},jsonToCSV(data){let t=this;var e=[];const header=this.header||this.$attrs.title;header&&e.push(this.parseExtraData(header,"${data}\r\n"));for(let t in data[0])e.push(t),e.push(",");return e.pop(),e.push("\r\n"),data.map((function(n){for(let o in n){let r=n[o]+"";t.escapeCsv&&(r='="'+r+'"',r.match(/[,"\n]/)&&(r='"'+r.replace(/\"/g,'""')+'"')),e.push(r),e.push(",")}e.pop(),e.push("\r\n")})),null!=this.footer&&e.push(this.parseExtraData(this.footer,"${data}\r\n")),e.join("")},getProcessedJson(data,header){let t=this.getKeys(data,header),e=[],n=this;return data.map((function(o,r){let l={};for(let label in t){let e=t[label];l[label]=n.getValue(e,o)}e.push(l)})),e},getKeys(data,header){if(header)return header;let t={};for(let e in data[0])t[e]=e;return t},parseExtraData(t,e){let n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&(n+=e.replace("${data}",t[i]));else n+=e.replace("${data}",t);return n},getValue(t,e){const n="object"!=typeof t?t:t.field;let o="string"!=typeof n?[]:n.split("."),r=this.defaultValue;return r=n?o.length>1?this.getValueFromNestedItem(e,o):this.parseValue(e[n]):e,t.hasOwnProperty("callback")&&(r=this.getValueFromCallback(r,t.callback)),r},valueReformattedForMultilines:t=>"string"==typeof t?t.replace(/\n/gi,"<br/>"):t,preprocessLongNum(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem(t,e){let n=t;for(let t of e)n&&(n=n[t]);return this.parseValue(n)},getValueFromCallback(t,e){if("function"!=typeof e)return this.defaultValue;const n=e(t);return this.parseValue(n)},parseValue(t){return t||0===t||"boolean"==typeof t?t:this.defaultValue},base64ToBlob(data,t){let e=window.btoa(window.unescape(encodeURIComponent(data))),n=atob(e),o=n.length,r=new Uint8ClampedArray(o);for(;o--;)r[o]=n.charCodeAt(o);return new Blob([r],{type:t})}}};var l=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.idName},on:{click:this.generate}},[this._t("default",[this._v(" Download "+this._s(this.name)+" ")])],2)};l._withStripped=!0;var c=o({render:l,staticRenderFns:[]},void 0,r,void 0,!1,void 0,void 0,void 0);e.a=c}).call(this,n(51))},402:function(t,e,n){"use strict";n(14),n(406),n(17),n(18),n(45);var o=n(73),r=n.n(o),l={data:function(){return{imgList:[],count:0,imgFiles:[],imgs:[]}},watch:{imgList:function(){var t=this;setTimeout((function(){0==t.imgList.length&&t.$emit("resetInput",!0)}),300)}},methods:{zoomIn:function(t){console.log(t.target.classList.toggle("zoomIn"))},hilang:function(t,e){var n=this,o=t.target.src,r=this.imgList.findIndex((function(t){return t==o}));delete this.imgList[r];var l=0;this.$el.querySelector("#imgKu"+e).classList.add("hilang"),this.$el.querySelectorAll(".myImage").forEach((function(img){img.classList.contains("hilang")&&l++})),l>0&&this.count++,this.count==this.$el.querySelectorAll(".myImage").length&&setTimeout((function(){n.$el.querySelector("#rest").click()}),300)},reset:function(){this.$el.querySelector("#file2").style.display="initial",this.$el.querySelectorAll(".myImage").forEach((function(t){t.style.display="none"})),this.imgList=[],this.count=0},upload:function(t){var e=1;this.imgList.length>0?(this.$el.querySelectorAll(".myImage").forEach((function(n){t.target!=n?e+=1:e*=-100})),e>0&&this.$refs.uploader.click()):this.$refs.uploader.click()},ambil:function(t){var e,n,o=this,l=this;(this.$nuxt.$emit("busy",!0),t.target.files[0].size>1e7)?alert("File yang di upload tidak sesuai kriteria"):t.target.files.length>0&&function(){for(var c,img=[],d=[],i=0;i<t.target.files.length;i++){o.imgs.push(t.target.files[i]),e=t.target.files[i],(n=new FileReader).onload=function(t){img.push(t.target.result)},n.readAsDataURL(e),(c=t.target.files[i]).size<1e6?30:c.size<2e6?25:c.size<3e6?20:c.size<4e6?15:10;var f=new FormData;f.append("file",c),r.a.post("https://infolayanans.now.sh/api/data/upload",f,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(output){console.log("output",output.data.data),o.$emit("link",output.data.data),setTimeout((function(){d.push("".concat(l.$store.state.url).concat(output.data.data))}),2e3)})).catch((function(t){console.log(t)}))}o.imgList=img,console.log(t.target),setTimeout((function(){o.$emit("upload",d),o.$nuxt.$emit("busy",!1)}),1e3)}()}}},c=(n(462),n(44)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"uploadContainer hoverable text-center flex flex-wrap flex-row"},[o("div",{staticClass:"text-center",staticStyle:{cursor:"pointer"},on:{click:t.upload}},t._l(t.imgList,(function(e,n){return o("img",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],key:n,staticClass:"imgInput myImage imgSize",staticStyle:{"z-index":"100","margin-left":"10%"},attrs:{src:e,id:"imgKu"+n},on:{click:function(e){return t.zoomIn(e)}}})})),0),t._v(" "),o("div",{staticClass:"text-center cursor-pointer",staticStyle:{position:"static"}},[t.imgList.length<1?o("label",{staticClass:"cursor-pointer",staticStyle:{"font-size":"12px",color:"black",position:"absolute","margin-left":"5px","margin-top":"0px"},attrs:{for:"file2"}},[o("img",{attrs:{src:n(461)}})]):t._e(),t._v(" "),o("input",{ref:"uploader",staticClass:"cursor-pointer",class:{"d-none":t.imgList.length>0},attrs:{id:"file2",type:"file"},on:{input:function(e){return e.preventDefault(),t.ambil(e)}}})]),t._v(" "),o("section",{staticStyle:{"margin-left":"20px"}},[o("button",{staticClass:"btn btn-sm btn-outline-success waves-effect d-none",attrs:{type:"button"},on:{click:t.upload}},[t._v("Browse")]),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],staticClass:"btn btn-sm btn-outline-danger waves-effect",attrs:{type:"button",id:"rest"},on:{click:t.reset}},[t._v("Reset")])])])])}),[],!1,null,null,null);e.a=component.exports},406:function(t,e,n){"use strict";var o=n(13),r=n(82).findIndex,l=n(115),c=n(61),d=!0,f=c("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){d=!1})),o({target:"Array",proto:!0,forced:d||!f},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},420:function(t,e,n){var content=n(463);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("827fe454",content,!0,{sourceMap:!1})},461:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI4LjUiIGN5PSI4LjUwMSIgcj0iMi41Ii8+PHBhdGggZD0iTTE2IDEwYy0yIDAtMyAzLTQuNSAzcy0xLjQ5OS0xLTMuNS0xYy0yIDAtMy4wMDEgNC0zLjAwMSA0aDE0LjAwMXMtMS02LTMtNnpNMjAgM2gtMTZjLTEuMTAzIDAtMiAuODk3LTIgMnYxMmMwIDEuMTAzLjg5NyAyIDIgMmgxNmMxLjEwMyAwIDItLjg5NyAyLTJ2LTEyYzAtMS4xMDMtLjg5Ny0yLTItMnptMCAxNGgtMTZ2LTEyaDE2djEyeiIvPjwvc3ZnPg=="},462:function(t,e,n){"use strict";n(420)},463:function(t,e,n){(e=n(39)(!1)).push([t.i,"input#file2{display:inline-block;width:40px;cursor:pointer;padding:20px 0 0;height:20px;overflow:hidden;box-sizing:border-box;background:#fff;border-radius:20px;box-shadow:1px 1px 4px grey}.imgSize{height:90px;width:60px}.zoomIn{position:fixed;top:0;width:60%;height:90%;margin-top:10px;z-index:1000}",""]),t.exports=e}}]);